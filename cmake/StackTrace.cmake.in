SET( STACKTRACE_VERSION @STACKTRACE_VERSION@ )

@PACKAGE_INIT@

SET_AND_CHECK( STACKTRACE_INSTALL_DIR "@StackTrace_INSTALL_DIR@"         )
SET_AND_CHECK( STACKTRACE_INCLUDE_DIR "@StackTrace_INSTALL_DIR@/include" )
SET_AND_CHECK( STACKTRACE_LIB_DIR     "@StackTrace_INSTALL_DIR@/lib"     )

SET( STACKTRACE_USE_TIMER       @USE_TIMER@ )
SET( STACKTRACE_TIMER_DIRECTORY @TIMER_DIRECTORY@ )

SET( STACKTRACE_USE_FIND_PACKAGE_MPI @USE_FIND_PACKAGE_MPI@ )
IF ( STACKTRACE_USE_FIND_PACKAGE_MPI AND NOT MPI_FOUND )
    IF ( NOT MPIEXEC_EXECUTABLE )
        SET( MPIEXEC_EXECUTABLE @MPIEXEC_EXECUTABLE@ )
    ENDIF()
    FIND_PACKAGE( MPI )
ENDIF()
IF ( TARGET MPI::MPI_CXX )
    SET( MPICXX_LIBS MPI::MPI_CXX )
ENDIF()

INCLUDE( "${STACKTRACE_LIB_DIR}/cmake/StackTrace/StackTraceTargets.cmake" )
INCLUDE_DIRECTORIES( ${STACKTRACE_INCLUDE_DIR} )
SET( CMAKE_INSTALL_RPATH "${STACKTRACE_LIB_DIR}" ${CMAKE_INSTALL_RPATH} )

IF ( STACKTRACE_USE_TIMER )
    INCLUDE_DIRECTORIES( "${STACKTRACE_TIMER_DIRECTORY}/include" )
    FIND_PACKAGE( Timer REQUIRED PATHS "${STACKTRACE_TIMER_DIRECTORY}" )
ENDIF()

CHECK_REQUIRED_COMPONENTS( StackTrace )

